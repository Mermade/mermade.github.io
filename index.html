<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mermade Software is shutting down...</title>
    <link rel="stylesheet" href="https://unpkg.com/xp.css">
    <link rel="stylesheet" href="./css/clippy.css">
    <link rel="stylesheet" href="./css/menu.css">
    <style>
      body {
        background-image: url("./img/bliss.jpg");
        background-size: cover;
        overflow: hidden;
        margin-left: 0px;
      }
      a.quiet {
        color: black;
        text-decoration: none;
      }
      .hidden {
	    display: none;
      }
      .start-button {
        font-style: italic;
        font-family: Verdana, sans-serif;
      }

/*.start-bar {
    font-family: "Trebuchet MS";
    background: linear-gradient(
        180deg,
        rgba(9, 151, 255, 1) 0%,
        rgba(0, 83, 238, 1) 8%,
        rgba(0, 80, 238, 1) 40%,
        rgba(0, 102, 255, 1) 88%,
        rgba(0, 102, 255, 1) 93%,
        rgba(0, 91, 255, 1) 95%,
        rgba(0, 61, 215, 1) 96%,
        rgba(0, 61, 215, 1) 100%
    );
    padding: 5px 0px 3px 3px;
    border-top: 1px solid #0831d9;
    border-left: 1px solid #0831d9;
    border-right: 1px solid #001ea0;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
    font-size: 13px;
    text-shadow: 1px 1px #0f1089;
    height: 21px;
}

.start-bar-text {
    padding-left: 0px;
    margin-left: 0px;
    font-weight: bold;
    color: white;
    background-color: green;
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
    padding-right: 5px;
    font-style: italic;
    font-size: 21px;
    font-family: Verdana, sans-serif;
    cursor: pointer;
}

.start-bar-controls {
    display: flex;
}*/

.buscard {
  width: 480px;
  height: 260px;
  margin: 0 auto;
  position: relative;
  -webkit-perspective: 1000;
	-moz-perspective: 1000;
	perspective: 1000;
  -moz-transform: perspective(1400px);
	-ms-transform: perspective(1400px);
	-webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-perspective-origin: right;
  -moz-perspective-origin: right;
  perspective-origin: right;
}

.card {
  width: 480px;
  height: 260px;
  box-shadow: 0 27px 55px 0 rgba(0, 0, 0, .7), 0 17px 17px 0 rgba(0, 0, 0, .5);
  position: relative;
  -webkit-transform: rotate(0deg);
  -moz-transform: rotate(0deg);
  -ms-transform: rotate(0deg);
  transform: rotate(0deg);
  -webkit-transform-origin: 100% 0%;
  -moz-transform-origin: 100% 0%;
  -ms-transform-origin: 100% 0%;
  transform-origin: 100% 0%;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  transform-style: preserve-3d;
  transition: .8s ease-in-out;
}
.logo {
  width: 200px;
  height: 200px;
  position: relative;
  background:
  linear-gradient(45deg, #F5AF69 50%, #F4EED7 50.9%),
  linear-gradient(90deg, #FC5135 50%, #4E203C 50%),
  linear-gradient(-45deg, #F5AF69 50%, #E8D9A0 50.9%),
  linear-gradient(#FC5135 50%, #4E203C 50%),
  linear-gradient(-45deg, #F5AF69 50%, #E8D9A0 50.9%),
  linear-gradient(90deg, #FC5135 50%, #4E203C 50%),
  linear-gradient(45deg, #FC5135 50%, #F5AF69 50.9%);
  background-size: 50px 50px, 100px 50px, 50px 50px, 200px 100px, 50px 50px, 100px 50px, 50px 50px;
  background-repeat: no-repeat;
  background-position: 0 0, 50px 0px, 150px 0, 0 50px, 0 150px, 50px 150px, 150px 150px;
}
.logo:before {
  content: "";
  position: absolute;
  top: 30px;
  left: 30px;
  width: 140px;
  height: 140px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
  background: linear-gradient(45deg, #F4EED7 50%, #E8D9A0 50%);
}
.logo:after {
  content: "";
  position: absolute;
  top: 55px;
  left: 55px;
  width: 90px;
  height: 90px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
  background: linear-gradient(45deg, #FC5135 50%, #4E203C 49.9%),
  linear-gradient(-45deg, #F5AF69 50%, transparent 50%),
  linear-gradient(#FC5135 50%, #FC5135 50%),
  linear-gradient(-45deg, #4E203C 50%, transparent 50%);
  background-size: 45px 45px;
  background-repeat: no-repeat;
  background-position: 0 0, 0 45px, 45px 45px, 45px 0;
  border-radius: 0 50% 50% 50%;
}
.logo span {
  display: block;
  background: #4E203C;
  width: 29px;
  height: 32px;
  position: absolute;
  top: 99.5px;
  left: 130px;
  border-radius: 0 50% 50% 0;
}
.logo span:before {
  content: "";
  width: 10px;
  height: 10px;
  background: #E8D9A0;
  border-radius: 50%;
  position: absolute;
  top: 11px;
  left: 10px;
  z-index: 2;
}
.front, .back {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: white;
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  backface-visibility: hidden;
}
.front {
  display:-webkit-flex;
  display: flex;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  align-items: center;
  z-index: 2;
  -webkit-transform: rotateY(0deg);
  -moz-transform: rotateY(0deg);
  -ms-transform: rotateY(0deg);
  transform: rotateY(0deg);
}
.back {
  -webkit-transform: rotateY(-180deg);
  -moz-transform: rotateY(-180deg);
  -ms-transform: rotateY(-180deg);
  transform: rotateY(-180deg);
  font-family: 'Arimo', sans-serif;
}
.buscard:hover .card {
  -webkit-transform: rotateY(180deg) translateX(100%);
  -moz-transform: rotateY(180deg) translateX(100%);
  -ms-transform: rotateY(180deg) translateX(100%);
  transform: rotateY(180deg) translateX(100%);
  cursor: pointer;
}
ul {
  margin: 0;
  width: 100%;
  list-style: none;
  position: absolute;
  bottom: 30px;
  left: 0;
  padding: 0 1%;
}
ul:after {
  content: '';
  display: table;
  clear: both;
}
li {
  width: 31.3333333333%;
  margin: 0 1%;
  float: left;
  padding: 10px;
  border: 2px solid #FC5135;
  border-radius: 4px;
  position: relative;
  text-align: center;
  color: #4E203C;
}
li:before {
  position: absolute;
  top: -25px;
  left: 50%;
  margin-left: -15px;
  width: 30px;
  height:30px;
  background: #FC5135;
  color: white;
  line-height: 30px;
  text-align: center;
  border-radius: 50%;
  font-family: FontAwesome;
}
li:nth-child(1):before {content: "\f095"}
li:nth-child(2):before {content: "\f003"}
li:nth-child(3):before {content: "\f0c1"}
h1 {
  color: #FC5135;
  text-transform: uppercase;
  font-weight: 400;
  line-height: 1;
  margin-top: 110px;
  text-align: center;
  font-size: 40px;
}
h1 span {
  color: #4E203C;
  display: block;
  font-size: .45em;
  letter-spacing: 3px;
}
h1 i {
  font-style: normal;
  text-transform: none;
  font-family: 'Playfair Display', serif;
}

    </style>
  </head>
  <body>

<div class="container">
  <div class="screen">

<div class="window" style="width:580px;margin-top:10px;margin-left:50px;">
  <div class="title-bar">
    <div class="title-bar-text">Command Prompt</div>
    <div class="title-bar-controls">
      <button id="btnMin" aria-label="Minimize"></button>
      <button id="btnMax" aria-label="Maximize"></button>
      <button class="btnClose" aria-label="Close"></button>
    </div>
  </div>
  <div id="winCmd" class="window-body">
    <pre>Mermade.Org.UK; (C) Copyright Mermade Software 1995-2021.
      <br>C:&#92;MERMADE&#92;SOFTWARE&gt; shutdown now
    </pre>
  </div>
</div>

<br>

<div class="window" style="width:600px; height:410px; margin-left:50px;">
  <div class="title-bar">
    <div class="title-bar-text">Mermade Software is going on hiatus</div>
    <div class="title-bar-controls">
      <button id="btnHelp" aria-label="Help"></button>
      <button class="btnClose" aria-label="Close"></button>
    </div>
  </div>
  <div class="window-body">
    <menu role="tablist">
      <button aria-selected="true" aria-controls="about">About</button>
      <button aria-controls="code-red">Code-Red.UK</button>
      <button aria-controls="spectacle">MakeASpectacle</button>
      <button aria-controls="simply-orders">Simply-Orders</button>
    </menu>
    <article role="tabpanel" id="about" style="height:260px">
        <legend>Out of Office responder: âœ…</legend>
        <p><b>From:</b> April 12th 2021
        <p><b>Subject:</b> Mike Ralphson is joining <a href="https://www.postman.com/">Postman</a></p>
        <fieldset>
          <legend>Consultancy services</legend>
          <div class="field-row">
            <label>
            If you need front-end website design or web ordering functionality,
            please consider the awesome people who run the companies in the following tabs.
	    Hover over the business cards to flip them over. Thank you.
            </label>
          </div>
        </fieldset>
        <section class="field-row">
          <button><a class="quiet" href="./landing.html">Click here for the old site</a></button>
          <label></label>
        </section>
      </article>

    <article role="tabpanel" hidden id="code-red" style="height:260px">
<div class="buscard">
  <div class="card">
    <div class="front">
      <div class="logo"><span></span></div>
    </div>
    <div class="back">
      <h1>Helen Parker<span>design <i>&</i> photography</span></h1>
      <ul>
        <li>+1-111-111-11-11</li>
        <li>my-email@email.com</li>
        <li>my-site.com</li>
        </ul>
    </div>
    </div>
  </div>
    </article>

    <article role="tabpanel" hidden id="spectacle" style="height:260px">
    </article>

    <article role="tabpanel" hidden id="simply-orders" style="height:260px">
    </article>

    <section class="field-row" style="justify-content: flex-end">
      <button id="btnOK">OK</button>
      <button id="btnCancel">Cancel</button>
    </section>
  </div>
</div>

<br>
<br>

<!-- <div class="window" style="width:100%;position:absolute;bottom:0;">
  <div class="start-bar">
    <div class="start-bar-controls">
      <div id="btnStart" class="start-bar-text">&nbsp;<img src="./img/winlogo.png" height="21px">&nbsp;Start&nbsp;</div>
      </div>
    </div>
</div> -->


    <div class="taskbar">
      <div class="main-section">
        <input id="start-menu-active" type="checkbox" class="hidden">
        <label class="start-button" for="start-menu-active">
          Start
        </label>
        <div class="start-menu">
          <div class="start-menu-header">
            <div class="account-image-wrapper">
              <img src="./img/mike_hat.jpeg" height="52px" width="52px">
            </div>
            <h1 class="account-name">Mike Ralphson</h1>
          </div>
          <div class="start-menu-body">
            <div class="start-menu-favorites">
              <div class="start-menu-item intent-item">
                <img src="./svg/microsoft.svg" height="20px" width="20px"/>
                <div class="label" id="menuIE">
                  <div class="intent">Internet</div>
                  <div class="program">Internet Explorer</div>
                </div>
              </div>
              <div class="start-menu-item intent-item">
                <img src="./svg/email.svg" height="20px" width="20px"/>
                <div class="label" id="menuEmail">
                  <div class="intent">E-mail</div>
                  <div class="program"><a id="lnkEmail" href="mailto:mike.ralphson@gmail.com">mike.ralphson@gmail.com</a></div>
                </div>
              </div>
              <div class="divider"></div>
              <div class="start-menu-item favorite-item">
                <img src="./svg/twitter.svg" height="20px" width="20px"/>
                <div class="label" id="menuTwitter">
                  <div class="intent">Twitter</div>
                  <div class="program">@PermittedSoc</div>
                </div>
              </div>
              <div class="divider"></div>
              <div class="start-menu-item favorite-item">
                <img src="./svg/github.svg" height="20px" width="20px"/>
                <div class="label" id="menuGithub">
                  <div class="intent">GitHub</div>
                  <div class="program">MikeRalphson</div>
                </div>
              </div>
              <div class="all-programs">
                <div class="divider"></div>
                <div class="start-menu-item all-programs-button">All Programs</div>
              </div>
            </div>
            <div class="start-menu-shortcuts">
              <div class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/235.ico')"></div>
                <div class="label">My Documents</div>
              </div>
              <div class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/21.ico')"></div>
                <div class="label">My Recent Documents</div>
              </div>
              <div id="menuPics" class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/236.ico')"></div>
                <div class="label">My Pictures</div>
              </div>
              <div class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/237.ico')"></div>
                <div class="label">My Music</div>
              </div>
              <div class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/16.ico')"></div>
                <div class="label">My Computer</div>
              </div>
              <div class="start-menu-item my-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/18.ico')"></div>
                <div class="label">My Network Places</div>
              </div>

              <div class="divider"></div>

              <div class="start-menu-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/22.ico')"></div>
                <div class="label">Control Panel</div>
              </div>
              <div class="start-menu-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/138.ico')"></div>
                <div class="label">Printers and Faxes</div>
              </div>

              <div class="divider"></div>

              <div class="start-menu-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/24.ico')"></div>
                <div class="label">Help and Support</div>
              </div>
              <div class="start-menu-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/23.ico')"></div>
                <div class="label">Search</div>
              </div>
              <div id="menuDOS" class="start-menu-item">
                <div class="icon" style="background-image:url('https://dl.dropboxusercontent.com/u/19745853/Win%20XP%20icons/25.ico')"></div>
                <div class="label">Run...</div>
              </div>
            </div>
          </div>
          <div class="start-menu-footer">
          </div>
        </div>
      </div>
      <div class="quick-section"></div>
    </div>
  </div>
</div>

<audio id="shutdown-mp3" src="./media/shutdown.mp3"></audio>
<audio id="bonk-mp3" src="./media/bonk.mp3"></audio>

<script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="./js/clippy.js"></script>
<script src="./js/menu.js"></script>
<script language="javascript">
const tabs = document.querySelectorAll("menu[role=tablist]");

for (let i = 0; i < tabs.length; i++) {
  const tab = tabs[i];

  const tabButtons = tab.querySelectorAll("menu[role=tablist] > button");

  tabButtons.forEach((btn) =>
    btn.addEventListener("click", (e) => {
      e.preventDefault();

      tabButtons.forEach((button) => {
        if (
          button.getAttribute("aria-controls") ===
          e.target.getAttribute("aria-controls")
        ) {
          button.setAttribute("aria-selected", true);
          openTab(e, tab);
        } else {
          button.setAttribute("aria-selected", false);
        }
      });
    })
  );
}

function openTab(event, tab) {
  const articles = tab.parentNode.querySelectorAll('[role="tabpanel"]');
  articles.forEach((p) => {
    p.setAttribute("hidden", true);
  });
  const article = tab.parentNode.querySelector(
    `[role="tabpanel"]#${event.target.getAttribute("aria-controls")}`
  );
  article.removeAttribute("hidden");
}

function playAudio(id){
  document.getElementById(id).play()
  .then(function(){})
  .catch(function(){
    console.log('Could not play audio');
  });
}

window.onload = function() {
  playAudio('shutdown-mp3');
  clippy.load('Clippy', function(agent){
    window.troll = agent;
  });
}

/*document.getElementById("btnStart").addEventListener("click", function() {
  playAudio('shutdown-mp3');
  if (window.trollShown) window.troll.getAttention();
});*/
document.getElementById("btnOK").addEventListener("click", function() {
  playAudio('shutdown-mp3');
});
document.getElementById("btnCancel").addEventListener("click", function() {
  playAudio('bonk-mp3');
});
$('.btnClose').on('click',function(){
  playAudio('bonk-mp3');
});

document.getElementById("btnMin").addEventListener("click", function() {
  $('#winCmd').hide();
});
document.getElementById("btnMax").addEventListener("click", function() {
  $('#winCmd').show();
});

$('#menuIE').on('click',function(){
  window.open('https://support.microsoft.com/en-us/topic/internet-explorer-help-23360e49-9cd3-4dda-ba52-705336cc0de2');
});

$('#menuDOS').on('click',function(){
  window.open('https://bellard.org/jslinux/vm.html?url=freedos.cfg&mem=64&graphic=1&w=720&h=400');
});

$('#menuTwitter').on('click',function(){
  window.open('https://twitter.com/permittedsoc');
});

$('#menuGithub').on('click',function(){
  window.open('https://github.com/MikeRalphson');
});

$('#menuPics').on('click',function(){
  window.open('https://www.flickr.com/photos/mermade');
});

$('#menuEmail').on('click',function(){
  $('#lnkEmail').click();
  this.preventDefault(true);
  return false;
});

document.getElementById("btnHelp").addEventListener("click", function() {
  window.troll.show();
  window.trollShown = true;
  window.troll.animate();
  window.troll.speak('Hi! It looks like you need some help. Why not get hold of Mike on Twitter? @permittedSoc');
});

</script>

  </body>
</html>
